<!-- <div class="container">
    <div class="card mt-5 mb-5 shadow-lg rounded card-header bg-secondary text-white">
        <h1 class="card-title m-0">Historique de toutes les commandes</h1>
    </div>
    
    @for (commande of commandes; track $index){
        <p>
          <span [routerLink]="['/commandes','details', commande.id]">üîç</span>
          Id: {{commande.id}} 
           pass√©e le: {{commande.date}} 
            Etat:
           <span>-> 
            <select [(ngModel)]="commande.etatId" (ngModelChange)="onEtatChange(commande)">
                <option [value]="commande.etatId">{{ getEtatLibelle(commande.etatId) }}</option>
                @for (state of getEtatLibelleArray(commande.etatId); track state.id) {
                  <option [value]="state.id">{{ state.libelle }}</option>
                }
              </select>
              
              
            </span>
        </p>
    }
</div> -->

<div class="container">
  <div class="card mt-5 mb-5 shadow-lg rounded">
    <div class="card-header bg-secondary text-white">
      <h1 class="card-title m-0 text-center">Historique de toutes les commandes</h1>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">R√©f√©rence</th>
              <th scope="col">Date</th>
              <th scope="col">√âtat</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            @for (commande of commandes; track $index) {
            <tr>
              <td>{{ $index + 1 }}</td>
              <td>
                <a [routerLink]="['/commandes','details', commande.id]" class="text-decoration-none">
                  {{ commande.id }}
                </a>
              </td>
              <td>{{ commande.date | date:'dd/MM/yyyy HH:mm' }}</td>
              <td>
                <select class="form-select" [(ngModel)]="commande.etatId" (ngModelChange)="onEtatChange(commande)">
                  <option [value]="commande.etatId">{{ getEtatLibelle(commande.etatId) }}</option>
                  @for (state of getEtatLibelleArray(commande.etatId); track state.id) {
                  <option [value]="state.id">{{ state.libelle }}</option>
                  }
                </select>
              </td>
              <td>
                <a [routerLink]="['/commandes','details', commande.id]" class="btn btn-primary btn-sm">
                  üîç Voir
                </a>
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>